import aiomcache
from privex.helpers.cache.asyncx.base import AsyncCacheAdapter as AsyncCacheAdapter
from privex.helpers.common import byteify as byteify, empty as empty
from privex.helpers.exceptions import CacheNotFound as CacheNotFound
from privex.helpers.plugin import close_memcached_async as close_memcached_async, get_memcached_async as get_memcached_async
from privex.helpers.settings import DEFAULT_CACHE_TIMEOUT as DEFAULT_CACHE_TIMEOUT
from typing import Any, Optional, Union

log: Any

class AsyncMemcachedCache(AsyncCacheAdapter):
    pickle_default: bool = ...
    use_pickle: bool
    adapter_enter_reconnect: bool = ...
    adapter_exit_close: bool = ...
    def __init__(self, use_pickle: bool=..., mcache_instance: aiomcache.Client=..., *args: Any, **kwargs: Any) -> None: ...
    async def mcache(self) -> aiomcache.Client: ...
    async def get(self, key: Union[bytes, str], default: Any=..., fail: bool=...) -> Any: ...
    async def set(self, key: Union[bytes, str], value: Any, timeout: Optional[int]=...) -> Any: ...
    async def remove(self, *key: Union[bytes, str]) -> bool: ...
    async def update_timeout(self, key: str, timeout: int=...) -> Any: ...
    async def connect(self, *args: Any, new_connection: Any=..., **kwargs: Any) -> aiomcache.Client: ...
    async def close(self): ...
